<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Market Dashboard</title>
  <link rel="stylesheet" href="./dashboard.css">
</head>
<body>
  <div id="toast-container" class="toast-container"></div>
  
  <div class="dashboard">
    <aside class="sidebar">
        <div class="sidebar-logo">
          <div class="logo-circle">T</div>
          <span class="logo-text">Trade Plus</span>
        </div>
        
        <ul class="nav-links">
          <li class="nav-link active">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span class="nav-text">Dashboard</span>
          </li>
          <li class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
            </svg>
            <span class="nav-text">Stocks</span>
          </li>
          <li class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span class="nav-text">F&O</span>
          </li>
          <li class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2 L15.09 8.26 L22 9.27 L17 14.14 L18.18 21.02 L12 17.77 L5.82 21.02 L7 14.14 L2 9.27 L8.91 8.26 L12 2"></path>
            </svg>
            <span class="nav-text">Mutual Funds</span>
          </li>
          <li class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
            <span class="nav-text">Portfolio</span>
          </li>
          <li class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
              <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
            <span class="nav-text"> <a href="../News/demo.html">News</a></span>
          </li>
        </ul>
        
        
      </aside>
      
       
      <div class="main-content">
         
        <div class="top-bar">
          <div class="search-bar">
            <svg xmlns="http://www.w3.org/2000/svg" class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" class="search-input" placeholder="Search for Stock Market...">
          </div>
          
          <button class="profile-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Profile</span>
          </button>
        </div>
        
    
        
  
      
      <div class="page-header">
        <h1 class="page-title">Stock Market</h1>
        <p class="page-subtitle">Trending Stock Market</p>
        
        
      </div>
    
      <div class="market-indices">
       
        <div class="market-card fade-in delay-100">
          <div class="market-header">
            <h3 class="market-title">NIFTY 50</h3>
            <div class="market-value">
              <span class="value-number">21,932.75</span>
              <span class="change-badge positive">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                  <polyline points="16 7 22 7 22 13"></polyline>
                </svg>
                0.83%
              </span>
            </div>
          </div>
          
          <div class="chart-container">
            <svg width="120" height="40">
              <path d="M0,30 L10,28 L20,25 L30,26 L40,20 L50,15 L60,18 L70,14 L80,10 L90,8 L100,5 L110,2 L120,4" fill="none" stroke="#10B981" stroke-width="2"></path>
            </svg>
          </div>
          
          <div class="market-metrics">
            <div class="metric">
              <span class="metric-label">Total Shares</span>
              <span class="metric-value">1.24B</span>
            </div>
            <div class="metric">
              <span class="metric-label">Prev Close</span>
              <span class="metric-value">21,710.80</span>
            </div>
          </div>
        </div>
        
       
        <div class="market-card fade-in delay-200">
          <div class="market-header">
            <h3 class="market-title">SENSEX</h3>
            <div class="market-value">
              <span class="value-number">72,256.14</span>
              <span class="change-badge positive">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                  <polyline points="16 7 22 7 22 13"></polyline>
                </svg>
                0.67%
              </span>
            </div>
          </div>
          
          <div class="chart-container">
            <svg width="120" height="40">
              <path d="M0,32 L10,30 L20,28 L30,25 L40,23 L50,18 L60,20 L70,18 L80,15 L90,10 L100,8 L110,5 L120,3" fill="none" stroke="#10B981" stroke-width="2"></path>
            </svg>
          </div>
          
          <div class="market-metrics">
            <div class="metric">
              <span class="metric-label">Total Shares</span>
              <span class="metric-value">937.5M</span>
            </div>
            <div class="metric">
              <span class="metric-label">Prev Close</span>
              <span class="metric-value">71,788.04</span>
            </div>
          </div>
        </div>
      </div>
      
      
      <h2 class="section-title">Most Popular This Week</h2>
      <div class="popular-stocks fade-in delay-300">
        
        <div class="stock-card">
          <div class="stock-header">
            <div class="stock-logo">A</div>
            <div class="stock-info">
              <span class="stock-name">Apple Inc.</span>
              <span class="stock-ticker">AAPL</span>
            </div>
          </div>
          
          <div class="stock-price">
            <span class="price-value">$172.62</span>
            <span class="change-badge positive">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                <polyline points="16 7 22 7 22 13"></polyline>
              </svg>
              1.23%
            </span>
          </div>
        </div>
        
       
        <div class="stock-card">
          <div class="stock-header">
            <div class="stock-logo">M</div>
            <div class="stock-info">
              <span class="stock-name">Microsoft</span>
              <span class="stock-ticker">MSFT</span>
            </div>
          </div>
          
          <div class="stock-price">
            <span class="price-value">$413.64</span>
            <span class="change-badge positive">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                <polyline points="16 7 22 7 22 13"></polyline>
              </svg>
              0.87%
            </span>
          </div>
        </div>
        
       
        <div class="stock-card">
          <div class="stock-header">
            <div class="stock-logo">G</div>
            <div class="stock-info">
              <span class="stock-name">Google</span>
              <span class="stock-ticker">GOOGL</span>
            </div>
          </div>
          
          <div class="stock-price">
            <span class="price-value">$139.68</span>
            <span class="change-badge negative">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 17 13.5 8.5 8.5 13.5 2 7"></polyline>
                <polyline points="16 17 22 17 22 11"></polyline>
              </svg>
              0.32%
            </span>
          </div>
        </div>
        
        
        <div class="stock-card">
          <div class="stock-header">
            <div class="stock-logo">A</div>
            <div class="stock-info">
              <span class="stock-name">Amazon</span>
              <span class="stock-ticker">AMZN</span>
            </div>
          </div>
          
          <div class="stock-price">
            <span class="price-value">$176.85</span>
            <span class="change-badge positive">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                <polyline points="16 7 22 7 22 13"></polyline>
              </svg>
              1.86%
            </span>
          </div>
        </div>
      </div>
      
      
      <h2 class="section-title">Transactions</h2>
      <div class="transactions fade-in delay-400">
        
        <div class="transaction-item">
          <div class="transaction-details">
            <div class="transaction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m6 9 6 6 6-6"></path>
              </svg>
            </div>
            <div class="transaction-info">
              <span class="transaction-title">Bought AAPL</span>
              <span class="transaction-date">Today, 10:45 AM</span>
            </div>
          </div>
          <span class="transaction-amount positive">+$1,256.88</span>
        </div>
        
        
        <div class="transaction-item">
          <div class="transaction-details">
            <div class="transaction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m6 15 6-6 6 6"></path>
              </svg>
            </div>
            <div class="transaction-info">
              <span class="transaction-title">Sold TSLA</span>
              <span class="transaction-date">Yesterday, 03:20 PM</span>
            </div>
          </div>
          <span class="transaction-amount negative">-$2,897.45</span>
        </div>
        
        
        <div class="transaction-item">
          <div class="transaction-details">
            <div class="transaction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m6 9 6 6 6-6"></path>
              </svg>
            </div>
            <div class="transaction-info">
              <span class="transaction-title">Bought MSFT</span>
              <span class="transaction-date">Jul 12, 2023</span>
            </div>
          </div>
          <span class="transaction-amount positive">+$3,564.70</span>
        </div>
        
        
        <div class="transaction-item">
          <div class="transaction-details">
            <div class="transaction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m6 9 6 6 6-6"></path>
              </svg>
            </div>
            <div class="transaction-info">
              <span class="transaction-title">Deposit</span>
              <span class="transaction-date">Jul 10, 2023</span>
            </div>
          </div>
          <span class="transaction-amount positive">+$10,000.00</span>
        </div>
        
        <a href="#" class="view-all">View All Transactions</a>
      </div>
    </div>
    
    
    <aside class="news-sidebar">
      <div class="news-header">
        <h2 class="news-title">Market News</h2>
      </div>
      
      <div class="news-list">
        
        <div class="news-item">
          <div class="news-meta">
            <span class="news-source">Bloomberg</span>
            <span class="news-time">2h ago</span>
          </div>
          <h3 class="news-headline">Tech Stocks Lead Market Rally as Inflation Cools</h3>
          <p class="news-snippet">Technology shares led gains in stocks on Thursday after data showed US inflation continued to cool, boosting speculation the Federal Reserve will cut interest rates this year.</p>
        </div>
        
        
        <div class="news-item">
          <div class="news-meta">
            <span class="news-source">CNBC</span>
            <span class="news-time">5h ago</span>
          </div>
          <h3 class="news-headline">Oil Prices Fall on Demand Concerns Despite Mideast Tension</h3>
          <p class="news-snippet">Oil prices fell on Wednesday as a larger-than-expected rise in US crude inventories and a stronger dollar offset the impact of escalating tensions in the Middle East.</p>
        </div>
        
        
        <div class="news-item">
          <div class="news-meta">
            <span class="news-source">Reuters</span>
            <span class="news-time">6h ago</span>
          </div>
          <h3 class="news-headline">Apple Unveils New AI Features for iPhone, Stock Surges</h3>
          <p class="news-snippet">Apple Inc introduced new artificial intelligence features for the iPhone and other devices on Monday, taking its first major step into the technology that has swept the industry.</p>
        </div>
        
        
        <div class="news-item">
          <div class="news-meta">
            <span class="news-source">Financial Times</span>
            <span class="news-time">1d ago</span>
          </div>
          <h3 class="news-headline">Fed Officials Signal Patience on Rate Cuts After Strong Jobs Data</h3>
          <p class="news-snippet">Federal Reserve officials signaled they are in no rush to cut interest rates after data showed the US economy added more jobs than expected in May, suggesting resilience despite high borrowing costs.</p>
        </div>
      </div>
      
      <div class="news-footer">
        <a href="../News/demo.html">View All News</a>
      </div>
    </aside>
  </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
  // API key for Alpha Vantage - Replace with your own key
  const API_KEY = 'HEU1TQJ1QEQL1SL5';

  // Generate random stock data for fallback
  function generateRandomStockData(symbol) {
    let randomPrice, randomChange, randomChangePercent;
    if (symbol === 'NIFTY') {
      randomPrice = (Math.random() * 500 + 17000).toFixed(2); // NIFTY around 17000-17500
      randomChange = (Math.random() * 200 - 100).toFixed(2); // +/- 100
      randomChangePercent = (Math.random() * 1 - 0.5).toFixed(2); // +/- 0.5%
    } else if (symbol === 'SENSEX') {
      randomPrice = (Math.random() * 1000 + 57000).toFixed(2); // SENSEX around 57000-58000
      randomChange = (Math.random() * 400 - 200).toFixed(2); // +/- 200
      randomChangePercent = (Math.random() * 1 - 0.5).toFixed(2); // +/- 0.5%
    } else {
      randomPrice = (Math.random() * 1000).toFixed(2);
      randomChange = (Math.random() * 20 - 10).toFixed(2);
      randomChangePercent = (Math.random() * 5 - 2.5).toFixed(2);
    }

    return {
      symbol: symbol,
      price: parseFloat(randomPrice),
      change: parseFloat(randomChange),
      changePercent: parseFloat(randomChangePercent)
    };
  }

  async function fetchStockData(symbol) {
    try {
      const apiUrl = `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`;
      const response = await fetch(apiUrl);
      if (!response.ok) throw new Error('API Error');
      const data = await response.json();
      if (data['Global Quote']) {
        return {
          symbol: data['Global Quote']['01. symbol'],
          price: parseFloat(data['Global Quote']['05. price']),
          change: parseFloat(data['Global Quote']['09. change']),
          changePercent: parseFloat(data['Global Quote']['10. change percent'].replace('%', ''))
        };
      }
      throw new Error('No Data');
    } catch (error) {
      // If API fails, generate random data as fallback
      return generateRandomStockData(symbol);
    }
  }

  // Function to update the stock card with color changes based on the stock rate change
  function updateStockCard(cardIndex, stockData) {
    let stockCards = document.querySelectorAll('.stock-card');
    if (cardIndex >= stockCards.length) {
      const newCard = document.createElement('div');
      newCard.className = 'stock-card';
      newCard.innerHTML = `<h3>${stockData.symbol}</h3><p class="price-value">$${stockData.price.toFixed(2)}</p><p class="change-badge">${stockData.change.toFixed(2)} (${stockData.changePercent.toFixed(2)}%)</p>`;
      document.getElementById('stock-container').appendChild(newCard);
      stockCards = document.querySelectorAll('.stock-card');
    }

    const card = stockCards[cardIndex];
    const priceElement = card.querySelector('.price-value');
    priceElement.textContent = `$${stockData.price.toFixed(2)}`;
    
    const changeElement = card.querySelector('.change-badge');
    changeElement.textContent = `${stockData.change.toFixed(2)} (${stockData.changePercent.toFixed(2)}%)`;

    // Change the color of the rate depending on whether it's positive or negative
    if (stockData.change >= 0) {
      changeElement.style.color = 'green';  // Positive change -> Green
    } else {
      changeElement.style.color = 'red';    // Negative change -> Red
    }
  }

  async function loadStockData() {
    const symbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'NIFTY', 'SENSEX'];
    const results = await Promise.all(symbols.map(symbol => fetchStockData(symbol)));
    results.forEach((stockData, index) => updateStockCard(index, stockData));
  }

  // Load data every 5 seconds
  setInterval(loadStockData, 5000);

  loadStockData();
});


  </script>
</body>
</html>